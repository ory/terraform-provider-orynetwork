---
page_title: "ory Provider"
description: |-
  The Ory provider enables Terraform to manage Ory Network resources.
---

# ory Provider

The Ory provider enables Terraform to manage [Ory Network](https://www.ory.sh/) resources.

## Authentication

Ory Network uses two types of API keys:

| API Key Type | Prefix | Used For |
|--------------|--------|----------|
| **Workspace API Key** | `ory_wak_...` | Projects, organizations, workspace management, project config, actions |
| **Project API Key** | `ory_pat_...` | Identities, OAuth2 clients, relationships |

## Configuration Options

```bash
export ORY_WORKSPACE_API_KEY="ory_wak_..."
export ORY_WORKSPACE_ID="..."           # Required for creating new projects
export ORY_PROJECT_API_KEY="ory_pat_..."
export ORY_PROJECT_ID="..."
export ORY_PROJECT_SLUG="..."
```

```hcl
provider "ory" {}  # Picks up from ORY_* environment variables
```

## Which Credentials Do You Need?

| Resource | Required Credentials |
|----------|---------------------|
| `ory_project`, `ory_workspace` | `workspace_api_key`, `workspace_id` |
| `ory_organization` | `workspace_api_key`, `project_id` |
| `ory_project_config`, `ory_action`, `ory_social_provider`, `ory_email_template` | `workspace_api_key`, `project_id` |
| `ory_identity`, `ory_oauth2_client`, `ory_relationship` | `project_api_key`, `project_slug` |

## Import Requirements

When importing existing resources, ensure you have the appropriate credentials configured **before** running `terraform import`.

## Example Usage

```terraform
# Configure the Ory provider
terraform {
  required_providers {
    ory = {
      source = "ory/orynetwork"
    }
  }
}

# Basic configuration using environment variables
provider "ory" {
  # Workspace API key for project/organization management
  workspace_api_key = var.ory_workspace_api_key # or set ORY_WORKSPACE_API_KEY env var

  # Workspace ID (required for creating new projects)
  workspace_id = var.ory_workspace_id # or set ORY_WORKSPACE_ID env var

  # Project API key for identity/OAuth2 operations
  project_api_key = var.ory_project_api_key # or set ORY_PROJECT_API_KEY env var

  # Project identifiers
  project_id   = var.ory_project_id   # or set ORY_PROJECT_ID env var
  project_slug = var.ory_project_slug # or set ORY_PROJECT_SLUG env var
}

# Configuration with custom API URLs (for staging/enterprise environments)
# provider "ory" {
#   workspace_api_key = var.ory_workspace_api_key
#   workspace_id      = var.ory_workspace_id
#
#   # Custom API URLs (defaults shown)
#   console_api_url = "https://api.console.ory.sh"           # or set ORY_CONSOLE_API_URL env var
#   project_api_url = "https://%s.projects.oryapis.com"      # or set ORY_PROJECT_API_URL env var
# }

variable "ory_workspace_api_key" {
  type        = string
  sensitive   = true
  description = "Ory Workspace API Key (ory_wak_...)"
  default     = null
}

variable "ory_workspace_id" {
  type        = string
  description = "Ory Workspace ID (UUID)"
  default     = null
}

variable "ory_project_api_key" {
  type        = string
  sensitive   = true
  description = "Ory Project API Key (ory_pat_...)"
  default     = null
}

variable "ory_project_id" {
  type        = string
  description = "Ory Project ID (UUID)"
  default     = null
}

variable "ory_project_slug" {
  type        = string
  description = "Ory Project Slug (e.g., vibrant-moore-abc123)"
  default     = null
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `console_api_url` (String) Override the console API URL (default: `https://api.console.ory.sh`). Mainly for testing.
- `project_api_key` (String, Sensitive) Ory Project API Key (`ory_pat_...`). Used for identity and OAuth2 operations. Can also be set via `ORY_PROJECT_API_KEY` environment variable.
- `project_api_url` (String) Override the project API URL template (default: `https://%s.projects.oryapis.com`).
- `project_id` (String) Ory Project ID. Can also be set via `ORY_PROJECT_ID` environment variable.
- `project_slug` (String) Ory Project Slug (e.g., `vibrant-moore-abc123`). Required for identity and OAuth2 operations. Can also be set via `ORY_PROJECT_SLUG` environment variable.
- `workspace_api_key` (String, Sensitive) Ory Workspace API Key (`ory_wak_...`). Used for organization and project management. Can also be set via `ORY_WORKSPACE_API_KEY` environment variable.
- `workspace_id` (String) Ory Workspace ID. Can also be set via `ORY_WORKSPACE_ID` environment variable.
