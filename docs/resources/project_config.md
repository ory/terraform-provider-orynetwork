---
page_title: "ory_project_config Resource - ory"
subcategory: ""
description: |-
  Configures an Ory Network project's settings.
---

# ory_project_config (Resource)

Configures an Ory Network project's settings.

This resource manages the configuration of an Ory Network project, including authentication methods,
password policies, session settings, CORS, and more.

~> **Note:** This resource does not perform drift detection. The Read operation does not fetch current configuration from the API, so changes made outside of Terraform (e.g., via Ory Console or API) will not be detected by `terraform plan`. To re-sync, remove the resource from state and re-import it.

## Example Usage

```terraform
# Basic project configuration
resource "ory_project_config" "basic" {
  cors_enabled        = true
  cors_origins        = ["https://app.example.com"]
  password_min_length = 10
  session_lifespan    = "720h" # 30 days
}

# Full security configuration
resource "ory_project_config" "secure" {
  # CORS
  cors_enabled = true
  cors_origins = ["https://app.example.com", "https://admin.example.com"]

  # Sessions
  session_lifespan          = "168h" # 7 days
  session_cookie_same_site  = "Strict"
  session_cookie_persistent = true

  # Password Policy
  password_min_length            = 12
  password_identifier_similarity = true
  password_check_haveibeenpwned  = true
  password_max_breaches          = 0

  # Authentication Methods
  enable_password = true
  enable_code     = true
  enable_passkey  = true

  # MFA
  enable_totp              = true
  totp_issuer              = "MyApp"
  enable_webauthn          = true
  webauthn_rp_display_name = "MyApp"
  webauthn_rp_id           = "app.example.com"
  webauthn_rp_origins      = ["https://app.example.com"]
  webauthn_passwordless    = true
  mfa_enforcement          = "optional"

  # Account Experience Branding
  account_experience_name           = "MyApp"
  account_experience_logo_url       = "https://cdn.example.com/logo.png"
  account_experience_default_locale = "en"

  # OAuth2 Token Lifespans
  oauth2_access_token_lifespan  = "1h"
  oauth2_refresh_token_lifespan = "720h"
}
```

## Duration Format

Time-based attributes use Go duration strings. Examples:

| Duration | Meaning |
|----------|---------|
| `30m` | 30 minutes |
| `1h` | 1 hour |
| `24h0m0s` | 24 hours |
| `168h` | 7 days |
| `720h` | 30 days |
| `8760h` | 365 days |

## Important Behaviors

- **Config always exists:** Project configuration cannot be deleted. It is tied to the project lifecycle. Destroying this resource only removes it from Terraform state.
- **No drift detection:** The Read operation does not fetch from the API. Changes made outside of Terraform (Console, CLI, API) will not be detected.
- **Project immutability:** The `project_id` cannot be changed after creation. Changing it will force a new resource.

## Import

Import using the project ID:

```shell
terraform import ory_project_config.main <project-id>
```

### Avoiding "Forces Replacement" After Import

After importing, if Terraform shows `project_id forces replacement`, ensure your configuration matches:

**Option 1: Explicit project_id**
```hcl
resource "ory_project_config" "main" {
  project_id = "the-exact-project-id-you-imported"
  # ... other settings
}
```

**Option 2: Use provider default** (recommended)
```hcl
provider "ory" {
  project_id = "the-exact-project-id-you-imported"
}

resource "ory_project_config" "main" {
  # project_id inherits from provider
  # ... other settings
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `account_experience_default_locale` (String) Default locale for the hosted login UI (e.g., `en`, `de`).
- `account_experience_favicon_url` (String) URL for the favicon in the hosted login UI.
- `account_experience_logo_url` (String) URL for the logo in the hosted login UI.
- `account_experience_name` (String) Application name shown in the hosted login UI.
- `account_experience_stylesheet` (String) Custom CSS stylesheet for the hosted login UI.
- `allowed_return_urls` (List of String) List of allowed return URLs.
- `cors_enabled` (Boolean) Enable CORS for the public API. Defaults to `false`.
- `cors_origins` (List of String) Allowed CORS origins.
- `default_return_url` (String) Default URL to redirect after flows.
- `enable_code` (Boolean) Enable code-based authentication (magic links, OTP).
- `enable_lookup_secret` (Boolean) Enable backup/recovery codes.
- `enable_passkey` (Boolean) Enable Passkey authentication.
- `enable_password` (Boolean) Enable password authentication.
- `enable_recovery` (Boolean) Enable password recovery flow.
- `enable_registration` (Boolean) Enable user registration.
- `enable_totp` (Boolean) Enable TOTP (Time-based One-Time Password).
- `enable_verification` (Boolean) Enable email verification flow.
- `enable_webauthn` (Boolean) Enable WebAuthn (hardware security keys).
- `error_ui_url` (String) URL for the error UI.
- `keto_namespaces` (List of String) List of Keto namespace names for Ory Permissions. Namespaces define resource types in your permission model (e.g., `documents`, `folders`). **Must be configured before creating `ory_relationship` resources.**
- `login_ui_url` (String) URL for the login UI.
- `mfa_enforcement` (String) MFA enforcement level. Valid values: `none`, `optional`, `required`.
- `oauth2_access_token_lifespan` (String) OAuth2 access token lifespan (e.g., `1h`, `30m`). Requires Hydra (OAuth2) service.
- `oauth2_refresh_token_lifespan` (String) OAuth2 refresh token lifespan (e.g., `720h` for 30 days). Requires Hydra (OAuth2) service.
- `password_check_haveibeenpwned` (Boolean) Check passwords against HaveIBeenPwned database.
- `password_identifier_similarity` (Boolean) Check password similarity to identifier (email/username).
- `password_max_breaches` (Number) Maximum allowed breaches in HaveIBeenPwned (0 = reject any breached password).
- `password_min_length` (Number) Minimum password length. Defaults to `8`.
- `project_id` (String) Project ID to configure. If not set, uses provider's project_id. **Cannot be changed after creation.**
- `recovery_ui_url` (String) URL for the password recovery UI.
- `registration_ui_url` (String) URL for the registration UI.
- `required_aal` (String) Required Authenticator Assurance Level for protected resources. Valid values: `aal1`, `aal2`.
- `session_cookie_persistent` (Boolean) Enable persistent session cookies (survive browser close).
- `session_cookie_same_site` (String) SameSite cookie attribute. Valid values: `Lax`, `Strict`, `None`.
- `session_lifespan` (String) Session duration as a Go duration string (e.g., `24h0m0s`, `720h`).
- `session_whoami_required_aal` (String) Required AAL for session whoami endpoint. Valid values: `aal1`, `aal2`, `highest_available`.
- `settings_ui_url` (String) URL for the account settings UI.
- `smtp_connection_uri` (String, Sensitive) SMTP connection URI (e.g., `smtp://user:pass@smtp.example.com:587/`).
- `smtp_from_address` (String) Email address to send from. Must be a valid email address.
- `smtp_from_name` (String) Name to display as email sender.
- `smtp_headers` (Map of String) Custom headers to include in emails.
- `totp_issuer` (String) TOTP issuer name shown in authenticator apps.
- `verification_ui_url` (String) URL for the verification UI.
- `webauthn_passwordless` (Boolean) Enable passwordless WebAuthn authentication.
- `webauthn_rp_display_name` (String) WebAuthn Relying Party display name.
- `webauthn_rp_id` (String) WebAuthn Relying Party ID (typically your domain).
- `webauthn_rp_origins` (List of String) Allowed WebAuthn origins.

### Read-Only

- `id` (String) Resource ID (same as project_id).
