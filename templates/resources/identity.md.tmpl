---
page_title: "{{.Name}} {{.Type}} - {{.ProviderName}}"
subcategory: ""
description: |-
  Manages an Ory Network identity (user).
---

# {{.Name}} ({{.Type}})

Manages an Ory Network identity (user).

Identities represent users in your application. Each identity has traits (profile data) defined by an identity schema.

-> **Plan:** Available on all Ory Network plans.

## Required Provider Configuration

This resource requires the following provider configuration:

```hcl
provider "ory" {
  project_api_key = var.ory_project_api_key  # or ORY_PROJECT_API_KEY env var
  project_slug    = var.ory_project_slug     # or ORY_PROJECT_SLUG env var
}
```

Or via environment variables:

```bash
export ORY_PROJECT_API_KEY="ory_pat_..."
export ORY_PROJECT_SLUG="your-project-slug"
```

## Schema ID

The `schema_id` attribute specifies which identity schema defines the structure of the identity's traits. It is **required** — you must explicitly set it to a schema that exists in your project.

**How to find your project's schema IDs:**

1. **Ory Console:** Go to your project > Identity Schema to see configured schemas
2. **API:** `GET /projects/<project-id>` and check `services.identity.config.identity.schemas`
3. **Terraform:** Use `ory_identity_schema` resources and reference their `schema_id`

**Common schema ID values:**

| Schema ID | Description |
|-----------|-------------|
| `preset://email` | Built-in email schema (most common default for new projects) |
| `preset://username` | Built-in username schema |
| Custom IDs | e.g., `customer_v1` — created via `ory_identity_schema` or Console |

## Example Usage

{{ tffile "examples/resources/ory_identity/resource.tf" }}

## Important Behaviors

- **Password is write-only:** The `password` attribute is not returned on read and cannot be imported. It is only used during creation and updates.
- **External deletion detection:** If an identity is deleted outside of Terraform (via UI or API), the next `terraform plan` will detect the 404 and remove it from state automatically.
- **Traits must match schema:** The JSON structure of `traits` must match the identity schema definition. Mismatched traits will cause API errors.
- **Metadata visibility:** `metadata_public` is visible to the identity owner. `metadata_admin` is only visible via the admin API and is marked sensitive in Terraform.

## Import

```shell
terraform import ory_identity.user <identity-id>
```

~> **Note:** Imported identities will not have `password` in state since it is write-only.

{{ .SchemaMarkdown | trimspace }}
