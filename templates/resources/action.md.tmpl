---
page_title: "{{.Name}} {{.Type}} - {{.ProviderName}}"
subcategory: ""
description: |-
  Manages an Ory Action (webhook) for identity flows.
---

# {{.Name}} ({{.Type}})

Manages an Ory Action (webhook) for identity flows.

Actions allow you to trigger webhooks at specific points in identity flows (login, registration, recovery, settings, verification).

## Example Usage

{{ tffile "examples/resources/ory_action/resource.tf" }}

## Authentication Methods

The `auth_method` attribute specifies which authentication method triggers the webhook. In the Ory Console UI, this is the "Method" selector.

| Value | Description | UI Equivalent |
|-------|-------------|---------------|
| `password` | Password-based authentication (default) | "Password" |
| `oidc` | Social/OIDC authentication (Google, GitHub, etc.) | "Social Sign-In" |
| `code` | One-time code (magic link, OTP) | "Code" |
| `webauthn` | Hardware security keys | "WebAuthn" |
| `passkey` | Passkey authentication | "Passkey" |
| `totp` | Time-based one-time password | "TOTP" |
| `lookup_secret` | Recovery/backup codes | "Backup Codes" |

~> **Note:** `auth_method` is only used for `timing = "after"` webhooks. For `timing = "before"` hooks, the webhook runs before any authentication method.

## Import

Actions use different import formats depending on timing:

**For "after" timing (post-hooks):**
```shell
terraform import ory_action.welcome_email "project_id:flow:after:auth_method:url"
```

**For "before" timing (pre-hooks):**
```shell
terraform import ory_action.validate_login "project_id:flow:before:url"
```

### Examples

```shell
# Import a post-registration password webhook
terraform import ory_action.welcome \
  "550e8400-e29b-41d4-a716-446655440000:registration:after:password:https://api.example.com/webhooks/welcome"

# Import a post-login social (OIDC) webhook
terraform import ory_action.social_login \
  "550e8400-e29b-41d4-a716-446655440000:login:after:oidc:https://api.example.com/webhooks/social"

# Import a pre-login validation webhook (no auth_method needed)
terraform import ory_action.validate \
  "550e8400-e29b-41d4-a716-446655440000:login:before:https://api.example.com/webhooks/validate"
```

### Finding Import Values from Ory Console

1. **project_id**: Settings → General → Project ID
2. **flow**: The flow type (login, registration, recovery, settings, verification)
3. **timing**: "before" or "after"
4. **auth_method** (for "after" only): password, oidc, code, webauthn, passkey, totp, lookup_secret
5. **url**: The exact webhook URL - must match exactly including protocol and trailing slashes

### Troubleshooting Import Errors

If you see "Cannot import non-existent remote object", the import will show a warning listing webhooks found at that location. This helps you find the correct URL and auth_method.

Common issues:
- **URL mismatch**: URLs must match exactly, including `https://` and any trailing `/`
- **Wrong auth_method**: UI-created actions default to "password" if you didn't explicitly select one
- **Wrong timing**: Check if the webhook is a pre-hook (before) or post-hook (after)

{{ .SchemaMarkdown | trimspace }}
